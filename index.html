<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Quiz matemática básica</title>
  <meta name="description" content="um quiz interativo para testar seus conhecimentos em matematica" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>Quiz interativo para alunos de matemática CEAK</h1>
    <p>Teste seus conhecimentos em matemática e veja qual pontuação você consegue fazer!</p>
  </header>

  <main>
    <section>
      <h2>Sobre esse quiz</h2>
      <p>Este quiz foi desenvolvido para testar seus conhecimentos em matemática básica, e é composto por uma série de perguntas envolvendo conceitos básicos de <strong>aritmética, álgebra e geometria</strong></p>
      <p>Você irá relembrar o conceito de <abbr title="mínimo múltiplo comum">MMC</abbr> e <abbr title="máximo divisor comum">MDC</abbr>, dentre outros conceitos básicos de operações numéricas fundamentais na aritmética.</p>
      <p>Você responderá o máximo de perguntas que conseguir a respeito de cada <em>conceito matemático</em> e ao final verá qual a sua pontuação e nível de conhecimento em matemática.</p>
    </section>

    <form id="quizForm" action="https://formspree.io/f/mjkrydnl" method="POST">
      <section>
        <h2>Pergunta 1: Quais são os dez primeiros números primos?</h2>
        <label><input type="radio" name="pergunta1" value="1;3;5;7;11;13;17;19;23;29" required> 1;3;5;7;11;13;17;19;23;29</label><br>
        <label><input type="radio" name="pergunta1" value="1;3;5;7;11;13;17;19;23;27"> 1;3;5;7;12;13;17;19;23;27</label><br>
        <label><input type="radio" name="pergunta1" value="1;3;5;7;11;13;17;21;23;27"> 1;3;5;7;12;13;17;21;23;27</label><br>
      </section>

      <section>
        <h2>Pergunta 2: 91 é um número primo? Explique.</h2>
        <input type="text" id="p2" name="pergunta2" placeholder="Digite aqui sua resposta" required />
      </section>

      <section>
        <h2>Pergunta 3: Qual é o <abbr title="mínimo múltiplo comum">MMC</abbr> entre o número 3 e o 21?</h2>
        <label><input type="checkbox" name="pergunta3" value="24"> 24</label><br>
        <label><input type="checkbox" name="pergunta3" value="33"> 33</label><br>
        <label><input type="checkbox" name="pergunta3" value="42"> 42</label><br>
      </section>

      <section>
        <h2>Pergunta 4: Qual função melhor representa o gráfico a seguir?</h2>
        <img src="./assets/Captura de tela 2025-04-19 150217.png" alt="Gráfico da questão 4" />
        <label><input type="radio" name="pergunta4" value="y = x² + 2x + 4" required> y = x² + 2x + 4</label><br>
        <label><input type="radio" name="pergunta4" value="y = x² + 2x - 4"> y = x² + 2x - 4</label><br>
        <label><input type="radio" name="pergunta4" value="y = x² + x + 4"> y = x² + x + 4</label><br>
      </section>

      <section>
        <h2>Tabela de Pontuação</h2>
        <table border="1">
          <thead>
            <tr><th>Pontuação</th><th>Avaliação</th></tr>
          </thead>
          <tbody>
            <tr><td>0-2</td><td>Não desista! Cada tentativa é uma oportunidade de você aprender</td></tr>
            <tr><td>3-6</td><td>Parabéns! Você foi bem, mas pode melhorar</td></tr>
            <tr><td>7-10</td><td>Parabéns! Você é incrível</td></tr>
          </tbody>
        </table>
      </section>

      <section>
        <h2>Verifique suas respostas</h2>
        <details>
          <summary>Clique aqui para ver as respostas</summary>
          <ol>
            <li>1;3;5;7;11;13;17;19;23;29</li>
            <li>Não, pois é divisível por 7 e por 13 além de 1 e 91</li>
            <li>42</li>
            <li>Equação: x² + 2x - 4</li>
          </ol>
        </details>
      </section>

      <section>
        <h2>Nos dê o seu feedback</h2>
        <fieldset>
          <legend>Informações de contato</legend>

          <label for="name">Nome:</label><br>
          <input type="text" id="name" name="nome" required /><br>

          <label for="email">Email:</label><br>
          <input type="email" id="email" name="_replyto" required /><br>

          <label for="comentario">Comentário:</label><br>
          <textarea id="comentario" name="comentario" rows="4" cols="50" placeholder="Digite seus comentários aqui" required></textarea><br>

          <!-- Campos ocultos preenchidos via JS -->
          <input type="hidden" id="campoAcertos" name="Acertos" />
          <input type="hidden" id="campoErros" name="Erros" />
          <input type="hidden" id="campoResumo" name="Resumo_das_respostas" />

          <button type="button" onclick="processarEEnviar()">Enviar respostas e feedback</button>
        </fieldset>
      </section>
    </form>
  </main>

  <footer>
    <p>Quiz de programação. Todos os direitos reservados.</p>
    <p>Para conhecer outros quizzes <a href="https://flgferas.github.io/sitenovoleo/" target="_blank" rel="noopener noreferrer">clique aqui.</a></p>
  </footer>

  <script>
    function processarEEnviar() {
      const form = document.getElementById('quizForm');

      // Captura as respostas
      const p1 = form.querySelector('input[name="pergunta1"]:checked');
      const p2 = form.querySelector('input[name="pergunta2"]') || form.querySelector('textarea[name="pergunta2"]') || form.querySelector('input[name="pergunta2"]');
      const p2valor = form.elements['pergunta2'].value.trim().toLowerCase();
      const p3selecionados = Array.from(form.querySelectorAll('input[name="pergunta3"]:checked')).map(el => el.value);
      const p4 = form.querySelector('input[name="pergunta4"]:checked');

      // Gabarito
      const gabarito = {
        pergunta1: "1;3;5;7;11;13;17;19;23;29",
        pergunta2: "não", // Checagem básica contendo a palavra 'não'
        pergunta3: "42",
        pergunta4: "y = x² + 2x - 4"
      };

      // Validação simples e contagem
      let acertos = 0;
      let erros = 0;

      // Pergunta 1 (radio)
      if (p1 && p1.value === gabarito.pergunta1) acertos++; else erros++;

      // Pergunta 2 (texto) - considera resposta correta se contiver "não"
      if (p2valor.includes(gabarito.pergunta2)) acertos++; else erros++;

      // Pergunta 3 (checkbox) - correta se selecionar 42 entre as opções marcadas
      if (p3selecionados.includes(gabarito.pergunta3)) acertos++; else erros++;

      // Pergunta 4 (radio)
      if (p4 && p4.value === gabarito.pergunta4) acertos++; else erros++;

      // Resumo das respostas
      const resumo =
        `Pergunta 1: ${p1 ? p1.value : 'sem resposta'}\n` +
        `Pergunta 2: ${form.elements['pergunta2'].value.trim() || 'sem resposta'}\n` +
        `Pergunta 3: ${p3selecionados.length > 0 ? p3selecionados.join(', ') : 'sem resposta'}\n` +
        `Pergunta 4: ${p4 ? p4.value : 'sem resposta'}`;

      // Preenche campos ocultos
      document.getElementById('campoAcertos').value = acertos;
      document.getElementById('campoErros').value = erros;
      document.getElementById('campoResumo').value = resumo;

      // Alerta com pontuação
      alert(`Você acertou ${acertos} de 4 perguntas.`);

      // Envia o formulário
      form.submit();
    }
  </script>
</body>
</html>
