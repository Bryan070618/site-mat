<!DOCTYPE html>
<html>
     <head> <!--tag méta dados-->
        <link rel="stylesheet" href="style.css">
        <title>Quiz matematica basica</title>
        <meta name="description" content="um quiz interativo para testar seus conhecimentos em matematica">
     </head>
    <body> <!--tag parte visual-->
        <header>
            <!--cabeçalho-->
            <h1>Quiz interativo para alunos de matemática CEAK</h1>
            <p>Teste seus conhecimentos em matemática e veja qual pontuação você consegue fazer!</p>
        </header>
        <main> <!--tag conteúdo principal-->
            <!--Essa seção é para a introdução-->
            <section>
                <h2>Sobre esse quiz</h2>
                <p>Este quiz foi desenvolvido para testar seus conhecimentos em matemática básica, e é composto por uma série de perguntas envolvendo conceitos básicos de <strong>aritmética, algebra e geometria</strong></p>
                <p>você ira relembrar o conceito de <abbr title="minimo multiplo comum">MMC</abbr> <abbr title="máximo divisor comum">MDC</abbr> dentre outros conceitos básicos de operações numéricas fundamentais na aritmética</p>
                <p>Você ira responder o maximo de perguntas que conseguir a respeito de cada <em>conceito matemático</em> e ao final verá qual a sua pontuação e nivel de conhecimento em matemática</p>
            </section>
            <!--perguntas-->
            <section>
                <!--pergunta multipla escolha 1-->
                <h2>Pergunta 1: Quais são os dez primeiros números primos?</h2>
                <form >
                    <input type="radio" value="1;3;5;7;11;13;17;19;23;29" id="p1a" name="pergunta 1">
                    <label for="p1a">1;3;5;7;11;13;17;19;23;29</label><br>
                    <input type="radio" value="1;3;5;7;11;13;17;19;23;27" id="p1b" name="pergunta 1">
                    <label for="p1b">1;3;5;7;12;13;17;19;23;27</label><br>
                    <input type="radio" value="1;3;5;7;11;13;17;21;23;27" id="p1c" name="pergunta 1">
                    <label for="p1c">1;3;5;7;12;13;17;21;23;27</label><br>
                </form>
            </section>
            <section>
                <!--pergunta texto 2-->
                <h2>Pergunta 2:91 é um numero primo?explique.</h2>
                <form >
                    <input type="text" id="p2" name="pergunta 2" placeholder="digite aqui sua resposta">
                </form>
            </section>
            <!--Pergunta seleção multipla 3-->
            <h2>Pergunta 3: Qual é o <abbr title="Minimo Multiplo Comum">MMC</abbr> entre o numero 3 e o 21</h2>
            <form>
                <input type="checkbox" id="p3a" name="pergunta3" value="24">
                <label for="p3a">24</label><br>
                <input type="checkbox" id="p3b" name="pergunta3" value="33">
                <label for="p3b">33</label><br>
                <input type="checkbox" id="p3c" name="pergunta3" value="42">
                <label for="p3c">42</label><br>
            </form>
            <section>
                <!--pergunta 4 com imagem-->
                <h2> Pergunta 4: Qual função melhor representa o grafico a seguir?</h2>
                <img src="./assets/Captura de tela 2025-04-19 150217.png" alt="">
                <!--respostas em espressões algébricas-->
                <form> 
                    <input type="radio" value="y = x<sup>2</sup> + 2x - 4 " id="p4a" name="pergunta 4">
                    <label for="p4a">y = x<sup>2</sup> + 2x + 4</label><br>
                    <input type="radio" value="y = x<sup>2</sup> + 2x - 4" id="p1c" name="pergunta 4">
                    <label for="p1c">y = x<sup>2</sup> + 2x - 4</label><br>
                    <input type="radio" value="y = x<sup>2</sup> + 2x - 4" id="p1c" name="pergunta 4">
                    <label for="p1c">y = x<sup>2</sup> + x + 4</label><br>
                </form>  
            </section>
            <!--Tabela de pontuação-->
        <section>
            <h2>Tabela de Pontuação</h2>
            <table border="1"> <!--tag para criar tabela-->
                <thead> <!--cabeçalho de tabela-->
                    <th>Pontuação</th>
                    <th>Avaliação</th>
                </thead>
                <tr> <!--tag cédula da tabela-->
                    <td>0-2</td>
                    <td>Não desista! Cada tentativa é uma oportunidade de você aprender</td>
                </tr>
                <tr>
                    <td>3-6</td>
                    <td>Parabéns! você foi bem mas pode melhorar</td>
                </tr>
                 <tr>
                    <td>7-10</td>
                    <td>Parabéns! você é incrivel</td>
                </tr>
            </table>
        </section>
        <!--lista de respostas-->
        <section>
            <h2>verifique suas respostas</h2>
            <details> <!--tag para esconder informações-->
            <summary>Clique aqui para ver as respostas</summary>
            <ol>
                <li>1;3;5;7;11;13;17;19;23;29</li>
                <li>Não, pois é divisivel por 7 e por 13 além de 1 e 91</li>
                <li>42</li>
                <li>Equação: x<sup>2</sup> + 2x - 4</li>
            </ol>
            </details>
            </section>
            <!--Formulário de Feedback-->
            <section>
                <h2>Nos dê o seu feedback</h2>
                <fieldset> <!--tag borda do formulario-->
                    <legend>informações de contato</legend><!--tag de legenda-->
                <form> <!--tag para formulario-->
                    <label for="name">Nome:</label>
                    <input type="text" id="name" name="name"><br>
                    <label for="email">email:</label>
                    <input type="email" id="email" name="email"><br>
                    <!--tags e atributos para caixa de texto-->
                    <label for="comentario">comentario</label><br>
                    <textarea id="comentarios" 
                    name="comentarios" rows="4" cols="50"
                    placeholder="Digite seus comentários aqui"></textarea>
                    <button onclick="alert('Feeedback enviado')">Envie o seu feedback</button>
                </form>
                </fieldset>
            </section>
        </main>
        <footer> <!--rodapé-->
            <p>Quiz de programação. Todos os direitos reservados.</p>
            <p>Para conhecer outros quizzes <a href="https://google.com" target="_blank">clique aqui.</a> </p>
        </footer>
         <script>
document.addEventListener('DOMContentLoaded', () => {
  // Gabarito: chave = name da pergunta, valor = resposta correta
  // Para checkbox, pode ser array de valores corretos.
  const gabarito = {
    'pergunta 1': '1;3;5;7;11;13;17;19;23;29',
    'pergunta 2': 'não, pois é divisível por 7 e por 13 além de 1 e 91',
    'pergunta3': ['42'], // checkbox, só 42 é correto
    'pergunta 4': 'y = x<sup>2</sup> + 2x - 4'
  };

  // Função para normalizar texto (resposta aberta)
  function normalizeText(text) {
    return text.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
  }

  // Criar botão para enviar respostas e inserir o campo email
  const main = document.querySelector('main');

  // Criar form para finalização e email
  const resultadoSection = document.createElement('section');
  resultadoSection.innerHTML = `
    <h2>Finalize seu Quiz</h2>
    <label for="emailUser">Digite seu email para salvar seu resultado:</label><br>
    <input type="email" id="emailUser" required placeholder="seuemail@exemplo.com"><br><br>
    <button id="btnEnviar">Enviar Respostas</button>
    <div id="resultadoFinal" style="margin-top: 20px;"></div>
  `;
  main.appendChild(resultadoSection);

  const btnEnviar = document.getElementById('btnEnviar');
  const emailInput = document.getElementById('emailUser');
  const resultadoDiv = document.getElementById('resultadoFinal');

  btnEnviar.addEventListener('click', (e) => {
    e.preventDefault();

    const email = emailInput.value.trim().toLowerCase();
    if (!email || !email.includes('@')) {
      alert('Por favor, digite um email válido.');
      return;
    }

    let acertos = 0;
    let erros = 0;

    // Pergunta 1 (radio)
    const p1 = document.querySelector('input[name="pergunta 1"]:checked');
    if (p1) {
      if (p1.value === gabarito['pergunta 1']) acertos++;
      else erros++;
    } else erros++;

    // Pergunta 2 (texto)
    const p2 = document.querySelector('input[name="pergunta 2"]');
    if (p2 && p2.value.trim() !== '') {
      // comparação simples normalizada
      if (normalizeText(p2.value) === normalizeText(gabarito['pergunta 2'])) acertos++;
      else erros++;
    } else erros++;

    // Pergunta 3 (checkbox)
    const p3Checkboxes = document.querySelectorAll('input[name="pergunta3"]');
    const p3Selecionados = [];
    p3Checkboxes.forEach(cb => {
      if (cb.checked) p3Selecionados.push(cb.value);
    });
    // verificar se somente '42' está selecionado
    if (
      p3Selecionados.length === gabarito['pergunta3'].length &&
      p3Selecionados.every(v => gabarito['pergunta3'].includes(v))
    ) acertos++;
    else erros++;

    // Pergunta 4 (radio)
    const p4 = document.querySelector('input[name="pergunta 4"]:checked');
    if (p4) {
      if (p4.value.replace(/\s+/g, '') === gabarito['pergunta 4'].replace(/\s+/g, '')) acertos++;
      else erros++;
    } else erros++;

    // Salvar no localStorage
    // Estrutura: { email: {acertos, erros, data} }
    const resultado = {
      acertos,
      erros,
      data: new Date().toLocaleString()
    };

    let banco = JSON.parse(localStorage.getItem('quizResultados') || '{}');
    banco[email] = resultado;
    localStorage.setItem('quizResultados', JSON.stringify(banco));

    // Mostrar resultado para usuário
    resultadoDiv.innerHTML = `
      <p><strong>Resultado para ${email}</strong></p>
      <p>Acertos: ${acertos}</p>
      <p>Erros: ${erros}</p>
      <p>Seu resultado foi salvo com sucesso!</p>
    `;
  });
});
</script>

    </body>
</html>
